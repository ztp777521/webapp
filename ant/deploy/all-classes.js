Ext.define("eapp.util.GlobalData",{singleton:true,statics:{pageStack:["main"],},isEnabledAutoLogin:function(){var b=this.getUserName();var a=this.getPassword();this.setUserName(b);if(!Ext.isEmpty(b)&&!Ext.isEmpty(a)){return true}return false},setUserName:function(a){localStorage.username=a},getUserName:function(){return localStorage.username},setPassword:function(a){localStorage.password=a},getPassword:function(){return localStorage.password},setCurrentUser:function(a){localStorage.currentuserinfo=a},getCurrentUser:function(){var b=localStorage.currentuserinfo;if(b!=null&&b!="undefined"&&b!=""){var c=Ext.JSON.decode(b);var a=Ext.create("eapp.model.Residentuser",c);return a}return null},isLoged:function(){var a=this.getCurrentUser();if(a==null||a=="undefined"){return false}return true},});Ext.define("eapp.view.Dialogs",{singleton:true,showComfirm:function(b,a,c){this.showCustomComfirm(b,a,"是","否",{yes:function(){c()},no:function(){Ext.Msg.hide()}})},showSearchComfirm:function(b,a,c){Ext.MessageBox.YESNO=[{text:"否",itemId:"no"},{text:"是",itemId:"yes",ui:"action"}];Ext.Msg.confirm(b,a,function(e,f,d){if(e=="yes"){c.yes()}else{Ext.Msg.hide()}})},showCustomComfirm:function(d,a,b,c,e){Ext.MessageBox.YESNO=[{text:c,itemId:"no"},{text:b,itemId:"yes",ui:"action"}];Ext.Msg.confirm(d,a,function(g,h,f){if(g=="yes"){e.yes()}else{Ext.Msg.hide();e.no()}})},showAlert:function(b,a){this.showCustomAlert(b,a,"确定",function(){})},showCustomAlert:function(c,b,a,d){Ext.MessageBox.OK={text:a,itemId:"ok",ui:"action"};Ext.Msg.alert(c,b,function(f,g,e){Ext.Msg.hide();d()})}});Ext.define("eapp.component.LabelEx",{extend:"Ext.Container",xtype:"labelEx",config:{dataField:null,dataFieldWidth:100,dataFieldDisplayNone:false,dataValue:null,dataType:null,tpl:"<div>{0}</div>"},renderTpl:function(){var d=Ext.Array.toArray(arguments,0);var c=this.getTpl().html;var b=c.replace(/\{(\d+)\}/g,function(a,e){return d[e]});this.setContent(b)},setContent:function(d){var e=this.getDataValue();var f=this.getDataField();var a=this.getDataFieldDisplayNone();var b=""+this.getDataType();if(a==false&&f!=null&&f!="undefined"&&f!=""&&e!=null&&e!="undefined"&&e!=""){var g=this.getDataFieldWidth();if(b=="phone"){this.setHtml('<table style="border: none; margin: 0px; padding: 0px; width: 100%"><tr><td width="'+g+'px"><span style="font-weight:bold;">'+f+"：</span></td><td>"+e+'</td><td width="16px" valign="middle" class="textcolor_gray"><img src="images/jiantou.png" style="margin-top: 3px;width: 16px; height: 16px" /></td></tr></table>')}else{if(b=="url"){this.setHtml('<table style="border: none; margin: 0px; padding: 0px; width: 100%"><tr><td width="'+g+'px"><span style="font-weight:bold;">'+f+'：</span></td><td style="word-break: break-all; overflow:hidden; ">'+e+'</td><td width="16px" valign="middle" class="textcolor_gray"><img src="images/jiantou.png" style="margin-top: 3px;width: 16px; height: 16px" /></td></tr></table>')}else{this.setHtml('<table style="border: none; margin: 0px; padding: 0px; width: 100%"><tr><td width="'+g+'px"><span style="font-weight:bold;">'+f+"：</span></td><td>"+e+'</td><td width="16px" valign="middle" class="textcolor_gray"><img src="images/jiantou.png" style="margin-top: 3px;width: 16px; height: 16px" /></td></tr></table>')}}}else{if(e!=null&&e!="undefined"&&e!=""){this.setHtml('<table style="border: none; margin: 0px; padding: 0px; width: 100%"><tr><td>'+d+'</td><td valign="middle" class="textcolor_gray"><img src="images/jiantou.png" style="margin-top: 3px;width: 16px; height: 16px" /></td></tr></table>')}else{this.setHtml(d)}}var c=Ext.get(this.element);if(c.hasListener("tap")){c.un("tap",this.onTap,this)}c.on("tap",this.onTap,this)},onTap:function(f,d,b,c){var a=""+this.getDataType();var h=""+this.getDataValue();if(a=="phone"){if(h.indexOf("tel:")<0){window.location="tel:"+h}else{window.location=h}}else{if(a=="url"){if(h.indexOf("http://")<0&&h.indexOf("https://")<0){h="http://"+h}try{window.openBrowser(h)}catch(g){window.open(h)}}else{this.fireEvent("tap",h)}}},});Ext.define("eapp.business.BaseService",{getApiBaseUrl:function(){return"http://localhost:8080/webapi/"},getGeoBaseUrl:function(){return"http://api.wecity.co/g4d/"},getHttpHeaders:function(){var a=eapp.util.GlobalData;return{apptypeid:a.getAppTypeId(),platformid:a.getPlatformId(),city:a.getCityName(),district:a.getDistrict()}},callApi:function(b,a,c){this.call(this.getApiBaseUrl()+b,a,c,"OK")},callGeo:function(b,a,c){this.call(this.getGeoBaseUrl()+b,a,c,1)},call:function(c,b,e,a){console.log(c);console.log(Ext.JSON.encode(b));var d=this;Ext.Ajax.request({url:c,method:"POST",timeout:60000,params:b,success:function(f){var i=f.responseText;if(i==null||i.length==0){Ext.Viewport.setMasked(false);e.failure("服务器响应的内容为空！");return}var g=null;try{g=Ext.JSON.decode(i)}catch(h){Ext.Viewport.setMasked(false);e.failure("服务器返回的数据无法解析！")}if(g.status==a){Ext.Viewport.setMasked(false);e.success(g.data)}else{Ext.Viewport.setMasked(false);e.failure(g.data)}},failure:function(f){console.log(f);Ext.Viewport.setMasked(false);e.failure("调用服务器接口失败！")}})}});Ext.define("eapp.business.IntegratematerialService",{extend:"eapp.business.BaseService",findlist:function(d,b,a,c){this.callApi("integratematerial!getlist.action",{moduleTypeid:d,materialState:b,showTypeid:a},c)},});Ext.define("eapp.business.ResidentuserService",{extend:"eapp.business.BaseService",login:function(c,a,b){this.callApi("residentuser!login.action",{username:c,password:a},b)},register:function(g,d,f,a,b,c,e){this.callApi("residentuser!register.action",{loginname:g,password:d,realname:f,telephonenum:a,email:b,familyTelephonenum:c,},e)},upuser:function(b,g,f,a,c,d,e){this.callApi("residentuser!upuser.action",{userid:b,loginname:g,realname:f,telephonenum:a,email:c,familyTelephonenum:d,},e)}});Ext.define("eapp.business.UnemploymentregistrationService",{extend:"eapp.business.BaseService",addunem:function(c,b,g,h,f,d,a,e,i){this.callApi("unemploymentregistration!addunemploymentregistration.action",{userid:c,username:b,telephonenum:g,email:h,familySituation:f,empIntentions:d,address:a,personalSituation:e},i)},findunem:function(a,b){this.callApi("unemploymentregistration!findunempregrep.action",{userid:a,},b)},getbyid:function(a,b){this.callApi("unemploymentregistration!getreplylist.action",{userid:a},b)}});Ext.define("eapp.business.VolunteerService",{extend:"eapp.business.BaseService",findAll:function(a){this.callApi("volunteer!findgridinfolist.action",{},a)},addVolunteer:function(a,b,d,c){this.callApi("volunteer!addvolunteer.action",{userid:a,applyGridid:b,applyReson:d},c)},addideareply:function(a){this.callApi("volunteer!addideareply.action",{},a)}});Ext.define("eapp.business.GroupService",{extend:"eapp.business.BaseService",addgroup:function(b,a,c,d){this.callApi("group!addgroup.action",{applyUserid:b,groupName:a,groupDescription:c},d)},});Ext.define("eapp.model.Integratematerial",{extend:"Ext.data.Model",config:{fields:["materialid","materialContent","materialPicture","moduleTypeid","materialTitle","materialState","materialVideo","materialCommitDate","materialPublicDate","showTypeid","materialSource","commitPersonid"]}});Ext.define("eapp.model.Residentuser",{extend:"Ext.data.Model",config:{fields:["userid","loginname","realname","password","email","telephonenum","familyTelephonenum","commmunityid","thirdLogType","thirdLogAccount",]}});Ext.define("eapp.model.Idea",{extend:"Ext.data.Model",config:{fields:["ideaid","userId","userName","telephonenum","email","ideaContent","gridnum","isreply","commitDate","ispublic",]}});Ext.define("eapp.model.Unemploymentregistration",{extend:"Ext.data.Model",config:{fields:["unempRegid","userid","username","telephonenum","email","unempTime","familySituation","empIntentions","personalSituation","address","commitDate","empState"]}});Ext.define("eapp.model.Unemploymentreply",{extend:"Ext.data.Model",config:{fields:["replyid","unempRegid","unempReplyContent","replyDate","replyName","replyUserid"]}});Ext.define("eapp.view.Main",{extend:"Ext.NavigationView",xtype:"mainview",config:{defaultBackButtonText:"返回",navigationBar:{cls:"",items:[{xtype:"button",id:"actionButton",cls:"actionbutton",style:"margin-right: 0px",text:"返回",align:"right",hidden:true,hideAnimation:Ext.os.is.Android?false:{type:"fadeOut",duration:200},showAnimation:Ext.os.is.Android?false:{type:"fadeIn",duration:200}}]},autoDestroy:true,items:[]},initialize:function(){this.callParent();this.getNavigationBar().hide();var a=eapp.app.appData;var c=Ext.create("eapp.view.Cell12");c.init();this.add(c);eapp.app.pageStack.push("main");Ext.Viewport.show();this.fireEvent("initcomplete");var b=this;document.addEventListener("backbutton",function(){Ext.Viewport.setMasked(false);var f=eapp.app.pageStack;console.log(f);var e=f.length;if(f[e-1]=="main"){eapp.view.Dialogs.showComfirm("确认","您确定要退出应用？",function(){window.exitApplication()})}else{b.pop();b.fireEvent("back")}},false);try{navigator.splashscreen.hide()}catch(d){}},pop:function(){this.fireEvent("beforepop",this);this.callParent(arguments)}});Ext.define("eapp.view.Cell12",{extend:"Ext.Container",xtype:"cell12view",config:{items:[{xtype:"container",name:"backgroundImg"},{xtype:"container",cls:"page",scrollable:{direction:"vertical",directionLock:true},items:[{xtype:"container",name:"subject",html:"智慧潘家园",cls:"subject"},{xtype:"container",name:"menuContainer",cls:"cell9_menu",items:[{xtype:"container",layout:"hbox",cls:"cell9_menu_item_container",items:[{xtype:"img",name:"m1",cls:"cell9_menu_item"},{xtype:"img",name:"m2",cls:"cell9_menu_item"},{xtype:"img",name:"m3",cls:"cell9_menu_item"}]},{xtype:"container",layout:"hbox",cls:"cell9_menu_item_container",items:[{xtype:"img",name:"m4",cls:"cell9_menu_item"},{xtype:"img",name:"m5",cls:"cell9_menu_item"},{xtype:"img",name:"m6",cls:"cell9_menu_item"}]},{xtype:"container",layout:"hbox",cls:"cell9_menu_item_container",items:[{xtype:"img",name:"m7",cls:"cell9_menu_item"},{xtype:"img",name:"m8",cls:"cell9_menu_item"},{xtype:"img",name:"m9",cls:"cell9_menu_item"}]},{xtype:"container",layout:"hbox",cls:"cell9_menu_item_container",items:[{xtype:"img",name:"m10",cls:"cell9_menu_item"},{xtype:"img",name:"m11",cls:"cell9_menu_item"},{xtype:"img",name:"m12",cls:"cell9_menu_item"}]}]},{xtype:"toolbar",docked:"bottom",cls:"poweredby",style:"border: none",items:[{xtype:"spacer"},{xtype:"img",name:"poweredbyimg"},{xtype:"spacer",name:"login",cls:"textalignright",}]}]}]},init:function(){var b=this.down('container[name="backgroundImg"]');b.setHtml('<img src="images/backgroundimg.jpg" style="width: 100%;height: 120%" />');var n=this.down('img[name="m1"]');n.setHtml('<img src="images/zhihuizhichuang.png" class="wp_menu_icon" /><div style="color:#09519b;font-weight: bold;font-size:14px;">智慧之窗 </div>');var m=this.down('img[name="m2"]');m.setHtml('<img src="images/xingfujiayuan.png" class="wp_menu_icon" /><div style="color:#09519b;font-weight: bold;font-size:14px;">幸福家园 </div>');var l=this.down('img[name="m3"]');l.setHtml('<img src="images/hongsebaolei.png" class="wp_menu_icon" /><div style="color:#09519b;font-weight: bold;font-size:14px;">红色堡垒</div>');var k=this.down('img[name="m4"]');k.setHtml('<img src="images/jiayouzhan.png" class="wp_menu_icon" /><div style="color:#09519b;font-weight: bold;font-size:14px;">社工加油站</div>');var j=this.down('img[name="m5"]');j.setHtml('<img src="images/zhihuiyanlu.png" class="wp_menu_icon" /><div style="color:#09519b;font-weight: bold;font-size:14px;">智慧言路</div>');var i=this.down('img[name="m6"]');i.setHtml('<img src="images/zhihuishiting.png" class="wp_menu_icon" /><div style="color:#09519b;font-weight: bold;font-size:14px;">智慧视听</div>');var h=this.down('img[name="m7"]');h.setHtml('<img src="images/gongjianhexie.png" class="wp_menu_icon" /><div style="color:#09519b;font-weight: bold;font-size:14px;">共建和谐</div>');var g=this.down('img[name="m8"]');g.setHtml('<img src="images/weiqingjiayuan.png" class="wp_menu_icon" /><div style="color:#09519b;font-weight: bold;font-size:14px;">温情家园</div>');var f=this.down('img[name="m9"]');f.setHtml('<img src="images/duocaijiayuan.png" class="wp_menu_icon" /><div style="color:#09519b;font-weight: bold;font-size:14px;">多彩家园</div>');var e=this.down('img[name="m10"]');e.setHtml('<img src="images/hexiejiayuan.png" class="wp_menu_icon" /><div style="color:#09519b;font-weight: bold;font-size:14px;">和谐家园</div>');var d=this.down('img[name="m11"]');d.setHtml('<img src="images/zhihuifuwu.png" class="wp_menu_icon" /><div style="color:#09519b;font-weight: bold;font-size:14px;">智慧服务</div>');var c=this.down('img[name="m12"]');c.setHtml('<img src="images/zhihuidiy.png" class="wp_menu_icon" /><div style="color:#09519b;font-weight: bold;font-size:14px;">智慧DIY</div>');var a=this.down('spacer[name="login"]');a.setHtml('<div><img class="wp_login_image" src="images/login1.png" /><span style="margin-left:15px;"></span></div>');Ext.get(a.element.query("img")[0]).on("tap",function(){a.fireEvent("login")})}});Ext.define("eapp.view.Login",{extend:"Ext.Container",xtype:"loginView",config:{title:"用户登录",iconCls:"",layout:"fit",isautoFlag:true,isshowFlag:true,loginCallback:null,items:[{xtype:"formpanel",items:[{xtype:"fieldset",defaults:{labelWidth:"85px"},title:"用户登录",items:[{xtype:"textfield",id:"usernameLogin",name:"usernameLogin",placeHolder:"请输入用户名",autoCapitalize:true,clearIcon:true},{xtype:"passwordfield",id:"passwordLogin",name:"passwordLogin",placeHolder:"请输入密码",autoCapitalize:true,clearIcon:true},]},{xtype:"spacer"},{xtype:"button",text:"登录",ui:"confirm",id:"loginButton",name:"loginButton"},{xtype:"spacer",cls:"margin1"},{xtype:"button",text:"注册",id:"regButton",name:"regButton",}]}]},});Ext.define("eapp.view.IntegrateMaterial",{extend:"Ext.List",xtype:"integrate_materialview",alternateClassName:"eapp.integrate_material",config:{title:"新闻咨询",store:null,pageno:"1",totalpages:"0",scrollable:{direction:"vertical",directionLock:true},items:[{xtype:"container",id:"newsid",style:"font-size: 25px;  text-align: center;",html:"",},],itemTpl:["<table>","	<tr>",'		<td rowspan="2"><tpl if="image == \'\'"><img style=" width:50px; height:50px;" src="images/newstu.png"/><tpl else><img style=" width:50px; height:50px;" src="{image}" /></tpl></td>','		<td><div style="margin-left: 5px;width: 235px;" class="textoneline">{titles}</div></td>',"	</tr>","	<tr>",'		<td><div style="margin-left: 5px;width: 235px;font-size: 12px;color: #aaa;" >{summarys}</div></td>',"	</tr>","</table>"],},init:function(){var b=this;Ext.Viewport.setMasked({xtype:"loadmask",message:"请稍候..."});var a=eapp.app.appData.eApp.get("appid");var c=Ext.create("eapp.business.NewsService");c.getNewsList(b.getPageno(),10,a,2801,{success:function(g){console.log(g);for(var f=0;f<g.result.length;f++){var h=g.result[f].title;var e=g.result[f].summary;if(h.length>12){h=h.substring(0,12)+"..."}g.result[f].titles=h;if(e.length>37){e=e.substring(0,37)+"..."}g.result[f].summarys=e}var d=b.getStore();if(d==null||d=="undefined"){d=Ext.create("eapp.store.EAppNews",{data:g.result})}else{d.add(g.result)}b.setStore(d);b.setPageno(g.pageno);b.setTotalpages(g.totalpages);if(g.result.length==0){Ext.ComponentQuery.query("#newsid",b)[0].setHtml("暂无新闻")}Ext.Viewport.setMasked(false)},failure:function(d){console.log(d);Ext.Viewport.setMasked(false)}})},initialize:function(){this.callParent(arguments);var a=this;var b=0;a.getScrollable().getScroller().on("scrollend",function(d,c,f,e){if((b-f)==0&&(Number)(a.getTotalpages())!=(Number)(a.getPageno())){console.log(a.getTotalpages());if(a.getTotalpages()==1){return}else{a.setPageno((Number)(a.getPageno())+1);a.init()}}});this.getScrollable().getScroller().on("maxpositionchange",function(c,e,d){b=e.y})},});Ext.define("eapp.view.Register",{extend:"Ext.Container",xtype:"registerView",config:{title:"用户注册",layout:"fit",items:[{xtype:"formpanel",items:[{xtype:"fieldset",defaults:{labelWidth:"85px"},title:"用户注册",items:[{xtype:"textfield",id:"loginnameid",name:"loginname",placeHolder:"请输入登录名",autoCapitalize:true,clearIcon:true},{xtype:"passwordfield",id:"passwordid",name:"passwordname",placeHolder:"请输入登录密码",autoCapitalize:true,clearIcon:true},{xtype:"textfield",id:"usernameid",name:"username",placeHolder:"请输入用户名",autoCapitalize:true,clearIcon:true},{xtype:"textfield",id:"telid",name:"telname",placeHolder:"请输入手机号",autoCapitalize:true,clearIcon:true},{xtype:"textfield",id:"emailid",name:"emailname",placeHolder:"请输入电子邮件",autoCapitalize:true,clearIcon:true},{xtype:"textfield",id:"numberid",name:"numbername",placeHolder:"请输入亲情号（可选）",autoCapitalize:true,clearIcon:true},]},{xtype:"button",text:"注册",ui:"confirm",id:"registerButton",name:"registerButton",}]}]}});Ext.define("eapp.view.My",{extend:"Ext.Container",xtype:"myView",config:{title:"个人帐号",layout:"fit",items:[{xtype:"formpanel",items:[{xtype:"container",items:[{xtype:"container",id:"namecontainerid",width:null},]},{xtype:"fieldset",items:[{xtype:"labelEx",id:"wanshanziliaoid",name:"wanshanziliaoid",cls:"line2",dataValue:"ziliao"},{xtype:"labelEx",id:"uppasswordid",name:"uppasswordid",cls:"line2",dataValue:"passWord"},{xtype:"labelEx",id:"cllloginid",name:"cllloginid",cls:"line2",dataValue:"zhuXiao"},]}]}]},init:function(){var f=this;var g=Ext.ComponentQuery.query("#ruLuXinxiid",f)[0];var e=Ext.ComponentQuery.query("#wanshanziliaoid",f)[0];var a=Ext.ComponentQuery.query("#uppasswordid",f)[0];var b=Ext.ComponentQuery.query("#cllloginid",f)[0];var d=eapp.util.GlobalData.getCurrentUser();var h=d.get("realname");var c=d.get("userid");Ext.ComponentQuery.query("#namecontainerid",f)[0].setHtml("当前用户:"+h);e.setContent('<div><div class="left height1 margin2"></div><div class="left myindexitem textcolor4 margin10">完善个人信息</div></div>');a.setContent('<div><div class="left height1 margin2"></div><div class="left myindexitem textcolor4 margin10">修改密码</div></div>');b.setContent('<div><div class="left height1 margin2"></div><div class="left myindexitem textcolor4 margin10">注销退出</div></div>')}});Ext.define("eapp.view.SetPersonal",{extend:"Ext.Container",xtype:"setPersonalView",config:{title:"个人设置",layout:"fit",items:[{xtype:"formpanel",items:[{xtype:"fieldset",defaults:{labelWidth:"35%"},title:"用户设置",items:[{xtype:"textfield",id:"loginnameid",label:"登录名",autoCapitalize:true,clearIcon:true,disabled:true},{xtype:"textfield",id:"usernameid",label:"用户名",autoCapitalize:true,clearIcon:true},{xtype:"textfield",id:"telephonenumid",label:"手机号",autoCapitalize:true,clearIcon:true,},{xtype:"textfield",id:"emailid",label:"电子邮件",autoCapitalize:true,clearIcon:true,},{xtype:"textfield",id:"interestid",label:"亲情号",autoCapitalize:true,clearIcon:true,}]},{xtype:"button",text:"修改",ui:"confirm",id:"updateButtonid",name:"updateButton"},]}]},});Ext.define("eapp.view.zhihuizhichuang.IntegratematerialList",{extend:"Ext.dataview.List",xtype:"integratemateriallist",config:{title:"新闻动态",iconCls:"info",cls:"textcolor7",store:null,items:[{xtype:"toolbar",ui:"neutral",docked:"bottom",scrollable:false,items:[{xtype:"spacer"},{xtype:"button",id:"newsbuttonid",name:"newsbutton",width:"85px",text:"新闻动态",},{xtype:"button",id:"gonggaobuttonid",name:"gonggaobutton",width:"98px",text:"通知公告",},{xtype:"button",id:"fuwubuttonid",name:"fuwubutton",width:"85px",text:"政务服务",},{xtype:"spacer"}]},],itemTpl:['<div style="width: 98%">','	<div class="left">',"		<div><span>{materialTitle}</span></div>","		<div><span>{materialPublicDate}</span></div>","	</div>",'	<div class="clear"></div>',"</div>",],},init:function(b){var c=this;var a=Ext.create("eapp.store.Integratematerial",{data:b.result});c.setStore(a)},});Ext.define("eapp.view.zhihuizhichuang.IntegratematerialDetail",{extend:"Ext.Container",xtype:"integratematerialdetail",config:{title:"详情",layout:"fit",data:null,cid:0,items:[{xtype:"formpanel",flex:1,items:[{xtype:"container",name:"sign",},{xtype:"container",name:"sendtime",},{xtype:"fieldset",items:[{xtype:"container",name:"message"}]},]},]},init:function(a){console.log(a);var b=this;b.down('container[name="sign"]').setHtml('<div class="communicationview_padding" style="font-weight: bold;">'+a.get("materialTitle")+"</div>");b.down('container[name="sendtime"]').setHtml('<div class="communicationview_padding" style="font-size:12px; float: right;">'+a.get("materialPublicDate")+"</div>");b.down('container[name="message"]').setHtml('<div class="communicationview_padding" style="overflow:hidden;word-warp:break-word;word-break:break-all;padding-top:20px;padding-left:25px;padding-right:15px;">'+a.get("materialContent")+'</div><div style="height: 20px">&nbsp;</div></div>')}});Ext.define("eapp.view.xinfujiayuan.IntegratematerialList",{extend:"Ext.dataview.List",xtype:"integratemateriallisttow",config:{title:"新闻动态",iconCls:"info",cls:"textcolor7",store:null,items:[{xtype:"toolbar",ui:"neutral",docked:"bottom",scrollable:false,items:[{xtype:"spacer"},{xtype:"button",id:"newsbuttonid",name:"newsbutton",width:"85px",text:"新闻动态",},{xtype:"button",id:"gonggaobuttonid",name:"gonggaobutton",width:"98px",text:"通知公告",},{xtype:"button",id:"fuwubuttonid",name:"fuwubutton",width:"85px",text:"政务服务",},{xtype:"spacer"}]},],itemTpl:['<div style="width: 98%">','	<div class="left">',"		<div><span>{materialTitle}</span></div>","		<div><span>{materialPublicDate}</span></div>","	</div>",'	<div class="clear"></div>',"</div>",],},init:function(b){var c=this;if(b.result.length<=0){eapp.view.Dialogs.showAlert("智慧潘家园","没有数据");return}var a=Ext.create("eapp.store.Integratematerial",{data:b.result});c.setStore(a)},});Ext.define("eapp.view.xinfujiayuan.IntegratematerialDetail",{extend:"Ext.Container",xtype:"integratematerialdetailtow",config:{title:"详情",layout:"fit",data:null,cid:0,items:[{xtype:"formpanel",flex:1,items:[{xtype:"container",name:"sign",},{xtype:"container",name:"sendtime",},{xtype:"fieldset",items:[{xtype:"container",name:"message"}]},]},]},init:function(a){console.log(a);var b=this;b.down('container[name="sign"]').setHtml('<div class="communicationview_padding" style="font-weight: bold;">'+a.get("materialTitle")+"</div>");b.down('container[name="sendtime"]').setHtml('<div class="communicationview_padding" style="font-size:12px; float: right;">'+a.get("materialPublicDate")+"</div>");b.down('container[name="message"]').setHtml('<div class="communicationview_padding" style="overflow:hidden;word-warp:break-word;word-break:break-all;padding-top:20px;padding-left:25px;padding-right:15px;">'+a.get("materialContent")+'</div><div style="height: 20px">&nbsp;</div></div>')}});Ext.define("eapp.view.zhihuiyanlu.Idea",{extend:"Ext.Container",xtype:"ideaView",config:{title:"提交意见",layout:"fit",isautoFlag:true,isshowFlag:true,items:[{xtype:"formpanel",items:[{xtype:"fieldset",defaults:{labelWidth:"85px"},title:"提交意见",items:[{xtype:"textfield",id:"ideausernameid",name:"ideausername",placeHolder:"请输入用户姓名",lable:"用户名",autoCapitalize:true,clearIcon:true,disabled:true},{xtype:"textfield",id:"ideaphoneid",name:"ideaphonename",placeHolder:"请输入电话",lable:"电话",autoCapitalize:true,clearIcon:true},{xtype:"textfield",id:"ideaemailid",name:"ideamailname",placeHolder:"请输入email",lable:"email",autoCapitalize:true,clearIcon:true},{xtype:"textareafield",maxRows:4,name:"content",id:"remarkContent",placeHolder:"请输入意见内容",height:"150px",width:"100%",cls:"margin1",clearIcon:true},]},{xtype:"button",text:"提交",ui:"confirm",id:"ideasubmitid",name:"ideasubmitname"},]},]}});Ext.define("eapp.view.zhihuiyanlu.IdeaList",{extend:"Ext.dataview.List",xtype:"idealistview",config:{title:"意见列表",iconCls:"info",cls:"textcolor7",store:null,itemTpl:['<div style="width: 98%">','	<div class="left">',"		<div><span>{userName}</span></div>","		<div><span>{commitDate}</span></div>","	</div>",'	<div class="clear"></div>',"</div>",],},init:function(){var d=this;var c=Ext.create("eapp.business.IdeaService");var b=eapp.util.GlobalData.getCurrentUser();var a=b.get("userid");c.findidea(a,0,1,10,{success:function(f){console.log(f);console.log(f.result);var e=Ext.create("eapp.store.Idea",{data:f.result});console.log(e);d.setStore(e)},failure:function(e){console.log(e)}})},});Ext.define("eapp.view.zhihuiyanlu.IdeaPage",{extend:"Ext.Container",xtype:"ideapageview",config:{pageName:"indexpageview",title:"意见建议",layout:"fit",items:[{xtype:"formpanel",items:[{xtype:"spacer",cls:"margin3"},{xtype:"fieldset",items:[{xtype:"labelEx",id:"aboutuspage",name:"aboutuspage",cls:"line2 padding5",dataValue:"settings"},]},{xtype:"fieldset",items:[{xtype:"labelEx",id:"suggestionpage",name:"suggestionpage",cls:"line2 padding5",dataValue:"settings"},]}]}]},initialize:function(){this.callParent()},init:function(){var c=this;var b=c.down('labelEx[name="aboutuspage"]');var a=c.down('labelEx[name="suggestionpage"]');b.setContent('<div><div class="left myindexitem textcolor4 margin2">提交意见</div><div class="right textcolor3 myindexitem margin9" style="font-size: 12px;"></div><div class="clear"></div></div>');a.setContent('<div><div class="left myindexitem textcolor4 margin2">建议列表</div><div class="right textcolor3 myindexitem margin9" style="font-size: 12px;"></div><div class="clear"></div></div>')},});Ext.define("eapp.view.gongjianhexie.VolunteerPage",{extend:"Ext.Container",xtype:"volunteerpageview",config:{title:"个人帐号",layout:"fit",items:[{xtype:"formpanel",items:[{xtype:"container",items:[{xtype:"container",id:"namecontainerid",width:null},]},{xtype:"fieldset",items:[{xtype:"labelEx",id:"shequwanggeid",name:"shequwanggename",cls:"line2",dataValue:"shequwangge"},]},{xtype:"fieldset",items:[{xtype:"labelEx",id:"shenqinggezhangid",name:"shenqinggezhangname",cls:"line2 padding5",dataValue:"volunteerpageview"},]},{xtype:"fieldset",items:[{xtype:"labelEx",id:"wodewanggeid",name:"wodewanggename",cls:"line2 padding5",dataValue:"volunteerpageview"},]},{xtype:"fieldset",items:[{xtype:"labelEx",id:"tijaoyijianid",name:"tijiaoyijianname",cls:"line2 padding5",dataValue:"volunteerpageview"},]},{xtype:"fieldset",items:[{xtype:"labelEx",id:"gezhangfengcaiid",name:"gezhagnfengcainame",cls:"line2 padding5",dataValue:"volunteerpageview"},]},{xtype:"fieldset",items:[{xtype:"labelEx",id:"gezhangtoupiaoid",name:"gezhangtoupiaoname",cls:"line2 padding5",dataValue:"volunteerpageview"},]},]}]},init:function(){var f=this;var e=Ext.ComponentQuery.query("#shequwanggeid",f)[0];var b=f.down('labelEx[name="shenqinggezhangname"]');var d=f.down('labelEx[name="wodewanggename"]');var c=f.down('labelEx[name="tijiaoyijianname"]');var a=f.down('labelEx[name="gezhagnfengcainame"]');var g=f.down('labelEx[name="gezhangtoupiaoname"]');e.setContent('<div><div class="left height1 margin2"></div><div class="left myindexitem textcolor4 margin10">社区网格</div></div>');b.setContent('<div><div class="left height1 margin2"></div><div class="left myindexitem textcolor4 margin10">申请格长</div></div>');d.setContent('<div><div class="left height1 margin2"></div><div class="left myindexitem textcolor4 margin10">我的网格</div></div>');c.setContent('<div><div class="left height1 margin2"></div><div class="left myindexitem textcolor4 margin10">提交意见</div></div>');a.setContent('<div><div class="left height1 margin2"></div><div class="left myindexitem textcolor4 margin10">格长风采</div></div>');g.setContent('<div><div class="left height1 margin2"></div><div class="left myindexitem textcolor4 margin10">格长投票</div></div>')}});Ext.define("eapp.view.gongjianhexie.AddIdea",{extend:"Ext.Container",xtype:"addideaView",config:{title:"提交意见",layout:"fit",isautoFlag:true,isshowFlag:true,items:[{xtype:"formpanel",items:[{xtype:"fieldset",defaults:{labelWidth:"85px"},title:"提交意见",items:[{xtype:"textfield",id:"ideausernameid",name:"ideausername",placeHolder:"请输入用户姓名",lable:"用户名",autoCapitalize:true,clearIcon:true,disabled:true},{xtype:"textfield",id:"ideaphoneid",name:"ideaphonename",placeHolder:"请输入电话",lable:"电话",autoCapitalize:true,clearIcon:true},{xtype:"textfield",id:"ideaemailid",name:"ideamailname",placeHolder:"请输入email",lable:"email",autoCapitalize:true,clearIcon:true},{xtype:"textareafield",maxRows:4,name:"content",id:"remarkContent",placeHolder:"请输入意见内容",height:"150px",width:"100%",cls:"margin1",clearIcon:true},]},{xtype:"button",text:"提交",ui:"confirm",id:"ideasubmitid",name:"ideasubmitname"},]},]}});Ext.define("eapp.view.gongjianhexie.ApplyVolunteer",{extend:"Ext.Container",xtype:"applyvolunteerview",config:{title:"申请格长",layout:"fit",isautoFlag:true,isshowFlag:true,items:[{xtype:"formpanel",items:[{xtype:"fieldset",defaults:{labelWidth:"85px"},title:"选择格长申请网格的编号",id:"checkboxs",items:[]},{xtype:"button",text:"下一步",ui:"confirm",id:"nextbuttonid",name:"nextbuttonname",},]},]},init:function(){var c=this;var b=Ext.ComponentQuery.query("#checkboxs",c)[0];Ext.Viewport.setMasked({xtype:"loadmask",message:"请稍候..."});var a=Ext.create("eapp.business.VolunteerService");a.findAll({success:function(f){var h=f.result;var d=[];for(var e=0;e<h.length;e++){var g=Ext.create("Ext.field.Checkbox",{xtype:"checkboxfield",name:"checkbox"+e,label:h[e].gridnum,value:"tomato",});d.push(g)}b.setItems(d);Ext.Viewport.setMasked(false)},failure:function(d){console.log(d);Ext.Viewport.setMasked(false)}})}});Ext.define("eapp.view.gongjianhexie.ApplyVolunteerTow",{extend:"Ext.Container",xtype:"applyvolunteertowview",config:{title:"申请格长",layout:"fit",isautoFlag:true,isshowFlag:true,items:[{xtype:"formpanel",items:[{xtype:"fieldset",defaults:{labelWidth:"85px"},id:"checkboxs",items:[{xtype:"textfield",id:"nonumberid",name:"nonumbername",placeHolder:"网格编号",lable:"用户名",autoCapitalize:true,clearIcon:true,disabled:true},{xtype:"textareafield",maxRows:4,name:"content",id:"remarkContentid",placeHolder:"请输入意见内容",height:"150px",width:"100%",cls:"margin1",clearIcon:true},]},{xtype:"button",text:"提交",ui:"confirm",id:"addsubmitid",name:"addsublmitname",},]},]},init:function(){var c=this;var b=Ext.ComponentQuery.query("#checkboxs",c)[0];Ext.Viewport.setMasked({xtype:"loadmask",message:"请稍候..."});var a=Ext.create("eapp.business.VolunteerService");a.findAll({success:function(f){console.log(f);var h=f.result;var d=[];for(var e=0;e<h.length;e++){var g=Ext.create("Ext.field.Checkbox",{xtype:"checkboxfield",name:"checkbox"+e,label:h[e].gridnum,value:"tomato",});d.push(g)}b.setItems(d);Ext.Viewport.setMasked(false)},failure:function(d){console.log(d);Ext.Viewport.setMasked(false)}})}});Ext.define("eapp.view.wenxinjiayuan.UnemPage",{extend:"Ext.Container",xtype:"unempageview",config:{pageName:"indexpageview",title:"温情家园",layout:"fit",items:[{xtype:"formpanel",items:[{xtype:"spacer",cls:"margin3"},{xtype:"fieldset",items:[{xtype:"labelEx",id:"aboutuspage",name:"unemsubmitname",cls:"line2 padding5",dataValue:"settings"},]},{xtype:"fieldset",items:[{xtype:"labelEx",id:"suggestionpage",name:"unemmyinfoname",cls:"line2 padding5",dataValue:"settings"},]}]}]},initialize:function(){this.callParent()},init:function(){var c=this;var b=c.down('labelEx[name="unemsubmitname"]');var a=c.down('labelEx[name="unemmyinfoname"]');b.setContent('<div><div class="left myindexitem textcolor4 margin2">失业提交</div><div class="right textcolor3 myindexitem margin9" style="font-size: 12px;"></div><div class="clear"></div></div>');a.setContent('<div><div class="left myindexitem textcolor4 margin2">我的信息</div><div class="right textcolor3 myindexitem margin9" style="font-size: 12px;"></div><div class="clear"></div></div>')},});Ext.define("eapp.view.wenxinjiayuan.AddUnem",{extend:"Ext.Container",xtype:"addunemview",config:{title:"失业提交",layout:"fit",items:[{xtype:"formpanel",items:[{xtype:"fieldset",defaults:{labelWidth:"85px"},title:"失业信息提交",items:[{xtype:"textfield",id:"unemusernameid",name:"unemusername",placeHolder:"请输入用户姓名",lable:"用户名",autoCapitalize:true,clearIcon:true,},{xtype:"textfield",id:"unemphoneid",name:"unemphonename",placeHolder:"请输入电话",lable:"电话",autoCapitalize:true,clearIcon:true},{xtype:"textfield",id:"unememailid",name:"unememailname",placeHolder:"请输入email",lable:"email",autoCapitalize:true,clearIcon:true},{xtype:"textfield",id:"unemhomeid",name:"unemhomename",placeHolder:"家庭状况",lable:"家庭状况",autoCapitalize:true,clearIcon:true},{xtype:"textfield",id:"unemjiuyeid",name:"unemjiuyename",placeHolder:"就业意向",lable:"就业意向",autoCapitalize:true,clearIcon:true},{xtype:"textfield",id:"unempaddressid",name:"unemaddressname",placeHolder:"家庭住址",lable:"家庭住址",autoCapitalize:true,clearIcon:true},{xtype:"textareafield",maxRows:2,name:"content",id:"remarkontentid",placeHolder:"请输入就业意向",height:"150px",width:"100%",cls:"margin1",clearIcon:true},]},{xtype:"button",text:"提交",ui:"confirm",id:"tijiaobuttonid",name:"tijiaobuttonname",}]},]}});Ext.define("eapp.view.wenxinjiayuan.MyUnem",{extend:"Ext.dataview.List",xtype:"myunemview",config:{title:"失业信息列表",iconCls:"info",cls:"textcolor7",store:null,itemTpl:['<div style="width: 98%">','	<div class="left">',"		<div><span>{username}</span></div>","		<div><span>{commitDate}</span></div>","	</div>",'	<div class="clear"></div>',"</div>",],},init:function(b){var c=this;if(b.result.length<=0){eapp.view.Dialogs.showAlert("智慧潘家园","没有数据");return}var a=Ext.create("eapp.store.Unemploymentregistration",{data:b.result});c.setStore(a)},});Ext.define("eapp.view.wenxinjiayuan.UnemDetail",{extend:"Ext.DataView",xtype:"unemdetailview",config:{title:"我的信息",pageNo:1,totalPages:1,store:null,items:[],itemTpl:["<div>",'	<div class="left width5">',"	</div>",'	<div class="left width6">&nbsp;</div>','	<div class="left">','		<div class="width5">{replyName}</div>','		<div class="triangle-border top width7">','			<div id="" style="word-break:break-all; width:200px;">{unempReplyContent}</div>','			<div class="margin1 fontsize1 textcolor2">','				<div class="right">{replyDate}</div>','				<div class="clear"></div>',"			</div>","		</div>","	</div>",'	<div class="clear"></div>',"</div>",],},init:function(b){var e=this;console.log(b);var a=b.get("unempRegid");var d=eapp.util.GlobalData.getCurrentUser();var c=d.get("userid");Ext.Viewport.setMasked({xtype:"loadmask",message:"请稍候..."});var f=Ext.create("eapp.business.UnemploymentregistrationService");f.getbyid(c,{success:function(h){console.log(h);var g=Ext.create("eapp.store.Unemploymentreply",{data:h.result});e.setStore(g);Ext.Viewport.setMasked(false)},failure:function(g){console.log(g);Ext.Viewport.setMasked(false)}})}});Ext.define("eapp.view.duocaijiayuan.GroupPage",{extend:"Ext.Container",xtype:"grouppageview",config:{title:"多彩家园",layout:"fit",items:[{xtype:"formpanel",items:[{xtype:"container",items:[{xtype:"container",id:"namecontainerid",width:null},]},{xtype:"fieldset",items:[{xtype:"labelEx",id:"createactivityid",name:"createactivityname",cls:"line2",dataValue:"shequwangge"},]},{xtype:"fieldset",items:[{xtype:"labelEx",id:"gzactivityid",name:"gzactivityname",cls:"line2 padding5",dataValue:"volunteerpageview"},]},{xtype:"fieldset",items:[{xtype:"labelEx",id:"fqactivityid",name:"fqactivityname",cls:"line2 padding5",dataValue:"volunteerpageview"},]},{xtype:"fieldset",items:[{xtype:"labelEx",id:"ckactivityid",name:"ckactivityname",cls:"line2 padding5",dataValue:"volunteerpageview"},]},]}]},init:function(){var e=this;var d=Ext.ComponentQuery.query("#createactivityid",e)[0];var a=e.down('labelEx[name="gzactivityname"]');var c=e.down('labelEx[name="fqactivityname"]');var b=e.down('labelEx[name="ckactivityname"]');d.setContent('<div><div class="left height1 margin2"></div><div class="left myindexitem textcolor4 margin10">创建活动群</div></div>');a.setContent('<div><div class="left height1 margin2"></div><div class="left myindexitem textcolor4 margin10">群列表</div></div>');c.setContent('<div><div class="left height1 margin2"></div><div class="left myindexitem textcolor4 margin10">发起活动</div></div>');b.setContent('<div><div class="left height1 margin2"></div><div class="left myindexitem textcolor4 margin10">查看活动</div></div>')}});Ext.define("eapp.view.duocaijiayuan.AddGroup",{extend:"Ext.Container",xtype:"addgroupview",config:{title:"申请创建活动群",layout:"fit",isautoFlag:true,isshowFlag:true,items:[{xtype:"formpanel",items:[{xtype:"fieldset",defaults:{labelWidth:"85px"},title:"申请创建活动群",items:[{xtype:"textfield",id:"groupid",name:"groupname",placeHolder:"请输入群名称",lable:"群名称",autoCapitalize:true,clearIcon:true,},{xtype:"textareafield",maxRows:4,name:"groupcontentname",id:"groupcontentid",placeHolder:"请输入群说明",height:"150px",width:"100%",cls:"margin1",clearIcon:true},]},{xtype:"button",text:"提交",ui:"confirm",id:"groupsubmitid",name:"groupsubmitname"},]},]}});Ext.define("eapp.view.about.TongZhiGongGao",{extend:"Ext.dataview.List",xtype:"tongzhigonggaolist",config:{title:"通知公告",iconCls:"star",cls:"textcolor7",store:null,itemTpl:['<div style="width: 98%">','	<div class="left">',"		<div><span>{materialTitle}呵呵呵</span></div>","		<div><span>{materialPublicDate}哈哈哈</span></div>","	</div>",'	<div class="clear"></div>',"</div>",],},init:function(b){var c=this;var a=Ext.create("eapp.store.Integratematerial",{data:b.result});console.log(a);c.setStore(a)},});Ext.define("eapp.view.about.BianMinXinXi",{extend:"Ext.dataview.List",xtype:"bianminxinxilist",config:{title:"政务服务",iconCls:"team",cls:"textcolor7",stroe:null,itemTpl:['<div style="width: 98%">','	<div class="left">',"		<div><span>{materialTitle}呵呵呵</span></div>","		<div><span>{materialPublicDate}哈哈哈</span></div>","	</div>",'	<div class="clear"></div>',"</div>",],},init:function(b){var c=this;var a=Ext.create("eapp.store.Integratematerial",{data:b.result});console.log(a);c.setStore(a)}});Ext.define("eapp.view.about.IndexPage",{extend:"Ext.TabPanel",xtype:"indexpage",config:{fullscreen:true,tabBarPosition:"bottom",xtype:"formpanel",items:[{xtype:"newsList",cls:"textcolor7",},{xtype:"tongzhigonggaolist",cls:"textcolor7",},{xtype:"bianminxinxilist",cls:"textcolor7",}]},init:function(){setTimeout(function(){var a=Ext.create("eapp.business.IntegratematerialService");a.findlist(1,2,1,{success:function(b){var c=Ext.create("eapp.view.about.NewsList");c.init(b);console.log(b)},failure:function(b){console.log(b)}})},1);setTimeout(function(){var a=Ext.create("eapp.business.IntegratematerialService");a.findlist(1,2,2,{success:function(c){var d=Ext.create("eapp.view.about.TongZhiGongGao");var b=Ext.create("eapp.store.Integratematerial",{data:c.result});d.setStore(b)},failure:function(b){console.log(b)}})},10);setTimeout(function(){var a=Ext.create("eapp.business.IntegratematerialService");a.findlist(1,2,3,{success:function(c){var b=Ext.create("eapp.view.about.BianMinXinXi");b.init(c);console.log(c)},failure:function(b){console.log(b)}})},10)},});Ext.define("eapp.view.about.NewsList",{extend:"Ext.dataview.List",xtype:"newsList",config:{title:"新闻动态",iconCls:"info",cls:"textcolor7",store:{fields:["title","content","date"],data:[{title:"什么情况",content:"<p>中国搞死日本</p>",date:"2012/07/12"},{title:"搞啥",content:"中国搞死美国",date:"2012/07/12"},{title:"啥意思",content:"中国搞死菲利宾",date:"2012/07/12"},{title:"搞不搞",content:"中国搞死韩国",date:"2012/07/12"},{title:"汗，不好搞",content:"中国搞死阿三",date:"2012/07/12"}]},itemTpl:['<div style="width: 98%">','	<div class="left">',"		<div><span>{title}</span></div>","		<div><span>{content}</span></div>","	</div>",'	<div class="clear"></div>',"</div>",],},init:function(b){var c=this;var a=Ext.create("eapp.store.Integratematerial",{data:b.result});console.log(a);c.setStore(a)},});Ext.define("eapp.controller.Cell12",{extend:"Ext.app.Controller",config:{refs:{mainview:"mainview",cell12view:"cell12view",myView:"myView",loginView:"loginView",integratemateriallist:"integratemateriallist",integratemateriallisttow:"integratemateriallisttow",ideaView:"ideaView",idealistview:"idealistview",indexpage:"indexpage",ideapageview:"ideapageview",volunteerpageview:"volunteerpageview",unempageview:"unempageview",grouppageview:"grouppageview",actionButton:"#actionButton",m1:{selector:"img[name=m1]"},m2:{selector:"img[name=m2]"},m3:{selector:"img[name=m3]"},m4:{selector:"img[name=m4]"},m5:{selector:"img[name=m5]"},m6:{selector:"img[name=m6]"},m7:{selector:"img[name=m7]"},m8:{selector:"img[name=m8]"},m9:{selector:"img[name=m9]"},m10:{selector:"img[name=m10]"},m11:{selector:"img[name=m11]"},m12:{selector:"img[name=m12]"},login:{selector:"spacer[name=login]"},},control:{m1:{tap:"onMainMenuTaped1",},m2:{tap:"onMainMenuTaped2",},m3:{tap:"onMainMenuTaped3",},m4:{tap:"onMainMenuTaped4",},m5:{tap:"onMainMenuTaped5",},m6:{tap:"onMainMenuTaped6",},m7:{tap:"onMainMenuTaped7",},m8:{tap:"onMainMenuTaped8",},m9:{tap:"onMainMenuTaped9",},m10:{tap:"onMainMenuTaped10",},m11:{tap:"onMainMenuTaped11",},m12:{tap:"onMainMenuTaped12",},login:{login:"OnLogin",}}},OnLogin:function(){var d=this;if(eapp.util.GlobalData.isLoged()){var b=d.getMyView();if(b==null||b=="undefined"){b=Ext.create("eapp.view.My")}b.init();d.getMainview().getNavigationBar().show();d.getMainview().push(b);var a=eapp.app.pageStack.length;if(eapp.app.pageStack[a-1]!="myview"){eapp.app.pageStack.push("myview")}}else{var c=d.getLoginView();if(c==null||c=="undefined"){c=Ext.create("eapp.view.Login")}d.getMainview().getNavigationBar().show();d.getMainview().push(c);var a=eapp.app.pageStack.length;if(eapp.app.pageStack[a-1]!="loginview"){eapp.app.pageStack.push("loginview")}}},onMainMenuTaped1:function(){var b=this;var c=b.getIntegratemateriallist();if(c==null||c=="undefined"){c=Ext.create("eapp.view.zhihuizhichuang.IntegratematerialList")}setTimeout(function(){Ext.Viewport.setMasked({xtype:"loadmask",message:"请稍候..."});var d=Ext.create("eapp.business.IntegratematerialService");d.findlist(1,2,1,{success:function(e){c.init(e)},failure:function(e){Ext.Viewport.setMasked(false);console.log(e)}})},1);b.getMainview().getNavigationBar().show();b.getMainview().push(c);Ext.Viewport.setMasked(false);var a=eapp.app.pageStack.length;if(eapp.app.pageStack[a-1]!="integratemateriallist"){eapp.app.pageStack.push("integratemateriallist")}},onMainMenuTaped2:function(){var c=this;var b=c.getIntegratemateriallisttow();if(b==null||integratematerialList=="undefined"){b=Ext.create("eapp.view.xinfujiayuan.IntegratematerialList")}setTimeout(function(){Ext.Viewport.setMasked({xtype:"loadmask",message:"请稍候..."});var d=Ext.create("eapp.business.IntegratematerialService");d.findlist(2,2,1,{success:function(e){b.init(e)},failure:function(e){Ext.Viewport.setMasked(false);console.log(e)}})},1);c.getMainview().getNavigationBar().show();c.getMainview().push(b);Ext.Viewport.setMasked(false);var a=eapp.app.pageStack.length;if(eapp.app.pageStack[a-1]!="integratemateriallisttow"){eapp.app.pageStack.push("integratemateriallisttow")}},onMainMenuTaped3:function(){var c=this;var b=c.getIndexpage();if(b==null||b=="undefined"){b=Ext.create("eapp.view.about.IndexPage")}b.init();c.getMainview().getNavigationBar().show();c.getMainview().push(b);var a=eapp.app.pageStack.length;7;if(eapp.app.pageStack[a-1]!="indexpage"){eapp.app.pageStack.push("indexpage")}},onMainMenuTaped4:function(){eapp.view.Dialogs.showAlert("智慧潘家园","社工加油站")},onMainMenuTaped5:function(){var e=this;var b=eapp.util.GlobalData.isLoged();if(b){var c=e.getIdeapageview();if(c==null||c=="undefined"){c=Ext.create("eapp.view.zhihuiyanlu.IdeaPage")}c.init();e.getMainview().getNavigationBar().show();e.getMainview().push(c);var a=eapp.app.pageStack.length;if(eapp.app.pageStack[a-1]!="ideapageview"){eapp.app.pageStack.push("ideapageview")}}else{var d=e.getLoginView();if(d==null||d=="undefined"){d=Ext.create("eapp.view.Login")}e.getMainview().getNavigationBar().show();e.getMainview().push(d);var a=eapp.app.pageStack.length;if(eapp.app.pageStack[a-1]!="loginview"){eapp.app.pageStack.push("loginview")}}},onMainMenuTaped6:function(){eapp.view.Dialogs.showAlert("智慧潘家园","智慧试听")},onMainMenuTaped7:function(){var b=this;var c=b.getVolunteerpageview();if(c==null||c=="undefined"){c=Ext.create("eapp.view.gongjianhexie.VolunteerPage")}c.init();b.getMainview().getNavigationBar().show();b.getMainview().push(c);var a=eapp.app.pageStack.length;if(eapp.app.pageStack[a-1]!="volunteerpageview"){eapp.app.pageStack.push("volunteerpageview")}},onMainMenuTaped8:function(){var d=this;var b=eapp.util.GlobalData.isLoged();if(b){var d=this;var e=d.getUnempageview();if(e==null||e=="undefined"){e=Ext.create("eapp.view.wenxinjiayuan.UnemPage")}e.init();d.getMainview().getNavigationBar().show();d.getMainview().push(e);var a=eapp.app.pageStack.length;if(eapp.app.pageStack[a-1]!="unempageview"){eapp.app.pageStack.push("unempageview")}}else{var c=d.getLoginView();if(c==null||c=="undefined"){c=Ext.create("eapp.view.Login")}d.getMainview().getNavigationBar().show();d.getMainview().push(c);var a=eapp.app.pageStack.length;if(eapp.app.pageStack[a-1]!="loginview"){eapp.app.pageStack.push("loginview")}}},onMainMenuTaped9:function(){var e=this;var b=eapp.util.GlobalData.isLoged();if(b){var c=e.getGrouppageview();if(c==null||c=="undefined"){c=Ext.create("eapp.view.duocaijiayuan.GroupPage")}c.init();e.getMainview().getNavigationBar().show();e.getMainview().push(c);var a=eapp.app.pageStack.length;if(eapp.app.pageStack[a-1]!="grouppageview"){eapp.app.pageStack.push("grouppageview")}}else{var d=e.getLoginView();if(d==null||d=="undefined"){d=Ext.create("eapp.view.Login")}e.getMainview().getNavigationBar().show();e.getMainview().push(d);var a=eapp.app.pageStack.length;if(eapp.app.pageStack[a-1]!="loginview"){eapp.app.pageStack.push("loginview")}}},onMainMenuTaped10:function(){eapp.view.Dialogs.showAlert("智慧潘家园","和谐家园")},onMainMenuTaped11:function(){var a="http://map.baidu.com/mobile/?ssid=0&from=844b&bd_page_type=1&uid=293EDADD92628FBA06A47B7001A4A981&pu=sz%401320_2001&itj=45#index/index";try{window.openBrowser(a)}catch(b){window.open(a)}},onMainMenuTaped12:function(){eapp.view.Dialogs.showAlert("智慧潘家园","智慧DIY")},});Ext.define("eapp.controller.Main",{extend:"Ext.app.Controller",config:{refs:{mainview:"mainview",actionButton:"#actionButton"},control:{mainview:{back:"onBackButtonTap",initcomplete:"onInitComplete"}}},onBackButtonTap:function(c,d){var b=eapp.app.pageStack;var a=b.length;if(a>1){b.pop()}this.doBackChanges()},doBackChanges:function(){var c=this;var b=eapp.app.pageStack;console.log(b);var a=b.length;switch(b[a-1]){case"main":c.getMainview().getNavigationBar().hide();c.getActionButton().hide();break;case"communicationview":this.getActionButton().show();this.getActionButton().setText("删除");break;default:this.getActionButton().hide();break}console.log(eapp.app.pageStack)},onInitComplete:function(){var h=this.getParam("communicationid");if(h==null){return}var f=this.getMainview();var a=this.getActionButton();if(h==0){var c=Ext.create("eapp.view.Communication");c.init();f.getNavigationBar().show();f.push(c);eapp.app.pageStack.push("communication")}else{try{window.SQLite_query(function g(n){var j=Ext.create("eapp.store.Communication",{data:Ext.JSON.decode(n).data});for(var l=0;l<j.getCount();l++){var k=j.getAt(l);var m=k.get("message");m=decodeURIComponent(m);k.set("message",m);if(k.get("id")==h){var e=Ext.create("eapp.view.CommunicationView");e.setData(k);e.init();a.setText("删除");a.show();f.getNavigationBar().show();f.push(e);eapp.app.pageStack.push("communicationview")}}},function b(e){eapp.view.Dialogs.showAlert("错误","无法从数据库读取消息！")},"select * from tbcommunication where isdeleted = 0 order by id desc limit 20")}catch(d){eapp.view.Dialogs.showAlert("错误","从数据库读取消息失败！")}}},getParam:function(b){var a=window.location+"";if(a.indexOf("?")>-1){var d=a.split("?")[1];var f=d.split("&");for(var c=0;c<f.length;c++){var e=f[c];var g=e.split("=");if(g[0]==b){return g[1]}}}return null}});Ext.define("eapp.controller.Integratematerial",{extend:"Ext.app.Controller",config:{refs:{mainview:"mainview",integratemateriallist:"integratemateriallist",integratematerialdetail:"integratematerialdetail",newsbutton:{selector:"integratemateriallist toolbar button[name=newsbutton]"},gonggaobutton:{selector:"integratemateriallist toolbar button[name=gonggaobutton]"},fuwubutton:{selector:"integratemateriallist toolbar button[name=fuwubutton]"},},control:{newsbutton:{tap:"OnNewsbuttonTap",},gonggaobutton:{tap:"OnGonggaobuttonTap",},fuwubutton:{tap:"OnFuwubuttonTap",},integratemateriallist:{itemtap:"OnItemTap",}}},OnItemTap:function(b,f,g,c,h,i){var j=this;var a=j.getIntegratematerialdetail();if(a==null||a=="undefined"){a=Ext.create("eapp.view.zhihuizhichuang.IntegratematerialDetail")}a.init(c);j.getMainview().push(a);var d=eapp.app.pageStack.length;if(eapp.app.pageStack[d-1]!="integratematerialdetail"){eapp.app.pageStack.push("integratematerialdetail")}},OnNewsbuttonTap:function(){var b=this;var a=b.getIntegratemateriallist();if(a==null||a=="undefined"){a=Ext.create("eapp.view.zhihuizhichuang.IntegratematerialList")}Ext.Viewport.setMasked({xtype:"loadmask",message:"请稍候..."});var c=Ext.create("eapp.business.IntegratematerialService");c.findlist(1,2,1,{success:function(d){a.init(d);Ext.Viewport.setMasked(false)},failure:function(d){console.log(d);Ext.Viewport.setMasked(false)}})},OnGonggaobuttonTap:function(){var b=this;var a=b.getIntegratemateriallist();if(a==null||a=="undefined"){a=Ext.create("eapp.view.zhihuizhichuang.IntegratematerialList")}Ext.Viewport.setMasked({xtype:"loadmask",message:"请稍候..."});var c=Ext.create("eapp.business.IntegratematerialService");c.findlist(1,2,2,{success:function(d){a.init(d);Ext.Viewport.setMasked(false)},failure:function(d){console.log(d);Ext.Viewport.setMasked(false)}})},OnFuwubuttonTap:function(){var b=this;var a=b.getIntegratemateriallist();if(a==null||a=="undefined"){a=Ext.create("eapp.view.zhihuizhichuang.IntegratematerialList")}Ext.Viewport.setMasked({xtype:"loadmask",message:"请稍候..."});var c=Ext.create("eapp.business.IntegratematerialService");c.findlist(1,2,3,{success:function(d){a.init(d);Ext.Viewport.setMasked(false)},failure:function(d){console.log(d);Ext.Viewport.setMasked(false)}})}});Ext.define("eapp.controller.Integratematerialtow",{extend:"Ext.app.Controller",config:{refs:{mainview:"mainview",integratemateriallisttow:"integratemateriallisttow",integratematerialdetailtow:"integratematerialdetailtow",newsbutton:{selector:"integratemateriallisttow toolbar button[name=newsbutton]"},gonggaobutton:{selector:"integratemateriallisttow toolbar button[name=gonggaobutton]"},fuwubutton:{selector:"integratemateriallisttow toolbar button[name=fuwubutton]"},},control:{newsbutton:{tap:"OnNewsbuttonTap",},gonggaobutton:{tap:"OnGonggaobuttonTap",},fuwubutton:{tap:"OnFuwubuttonTap",},integratemateriallisttow:{itemtap:"OnItemTap",}}},OnItemTap:function(b,f,g,c,h,i){var j=this;var a=j.getIntegratematerialdetailtow();if(a==null||integratematerialdetail=="undefined"){a=Ext.create("eapp.view.xinfujiayuan.IntegratematerialDetail")}a.init(c);j.getMainview().push(a);var d=eapp.app.pageStack.length;if(eapp.app.pageStack[d-1]!="integratematerialdetailtow"){eapp.app.pageStack.push("integratematerialdetailtow")}},OnNewsbuttonTap:function(){var a=this;var b=a.getIntegratematerialdetailtow();if(b==null||integratematerialview=="undefined"){b=Ext.create("eapp.view.xinfujiayuan.IntegratematerialList")}Ext.Viewport.setMasked({xtype:"loadmask",message:"请稍候..."});var c=Ext.create("eapp.business.IntegratematerialService");c.findlist(2,2,1,{success:function(d){b.init(d);Ext.Viewport.setMasked(false)},failure:function(d){console.log(d);Ext.Viewport.setMasked(false)}})},OnGonggaobuttonTap:function(){var a=this;var b=a.getIntegratematerialdetailtow();if(b==null||integratematerialview=="undefined"){b=Ext.create("eapp.view.xinfujiayuan.IntegratematerialList")}Ext.Viewport.setMasked({xtype:"loadmask",message:"请稍候..."});var c=Ext.create("eapp.business.IntegratematerialService");c.findlist(2,2,2,{success:function(d){b.init(d);Ext.Viewport.setMasked(false)},failure:function(d){console.log(d);Ext.Viewport.setMasked(false)}})},OnFuwubuttonTap:function(){var a=this;var b=a.getIntegratematerialdetailtow();if(b==null||integratematerialview=="undefined"){b=Ext.create("eapp.view.xinfujiayuan.IntegratematerialList")}Ext.Viewport.setMasked({xtype:"loadmask",message:"请稍候..."});var c=Ext.create("eapp.business.IntegratematerialService");c.findlist(2,2,3,{success:function(d){b.init(d);Ext.Viewport.setMasked(false)},failure:function(d){console.log(d);Ext.Viewport.setMasked(false)}})}});Ext.define("eapp.controller.Login",{extend:"Ext.app.Controller",config:{refs:{mainview:"mainview",loginView:"loginView",registerView:"registerView",loginButton:{selector:"loginView formpanel button[name=loginButton]"},regButton:{selector:"loginView formpanel button[name=regButton]"},registerButton:{selector:"registerView formpanel button[name=registerButton]"},},control:{loginButton:{tap:"OnLoginButtonTap",},regButton:{tap:"OnRegButtonTap",},registerButton:{tap:"OnRegisterButtonTap"}}},OnRegisterButtonTap:function(){var h=this;var i=h.getRegisterView();if(i==null||i=="undefined"){i=Ext.create("eapp.view.Register")}var d=Ext.ComponentQuery.query("#loginnameid",i)[0].getValue();var a=Ext.ComponentQuery.query("#passwordid",i)[0].getValue();var c=Ext.ComponentQuery.query("#usernameid",i)[0].getValue();var g=Ext.ComponentQuery.query("#telid",i)[0].getValue();var f=Ext.ComponentQuery.query("#emailid",i)[0].getValue();var e=Ext.ComponentQuery.query("#numberid",i)[0].getValue();if(d==null||d=="undefined"||d.length<=0){eapp.view.Dialogs.showAlert("智慧潘家园","登录名不能为空");return}if(a==null||a=="undefined"||a.length<=0){eapp.view.Dialogs.showAlert("智慧潘家园","登录密码不能为空");return}if(c==null||c=="undefined"||c.length<=0){eapp.view.Dialogs.showAlert("智慧潘家园","用户名不能为空");return}if(g==null||g=="undefined"||g.length<=0){eapp.view.Dialogs.showAlert("智慧潘家园","手机号不能为空");return}if(f==null||f=="undefined"||f.length<=0){eapp.view.Dialogs.showAlert("智慧潘家园","邮箱不能为空");return}Ext.Viewport.setMasked({xtype:"loadmask",message:"请稍候..."});var b=Ext.create("eapp.business.ResidentuserService");b.register(d,a,c,g,f,e,{success:function(k){if(k!="false"){var j=h.getMainview().getNavigationBar().getBackButton();j.fireEvent("tap",j,null,null);eapp.view.Dialogs.showAlert("智慧潘家园","注册成功!~")}else{eapp.view.Dialogs.showAlert("智慧潘家园","注册失败!~")}Ext.Viewport.setMasked(false)},failure:function(j){console.log(j);Ext.Viewport.setMasked(false)}})},OnLoginButtonTap:function(){var d=this;var b=d.getLoginView();if(b==null||b=="undefined"){b=Ext.create("eapp.view.Login")}var e=Ext.ComponentQuery.query("#usernameLogin",b)[0].getValue();var a=Ext.ComponentQuery.query("#passwordLogin",b)[0].getValue();if(e==null||e=="undefined"||e.length<=0){eapp.view.Dialogs.showAlert("智慧潘家园","用户名不能为空");return}if(a==null||a=="undefined"||a.length<=0){eapp.view.Dialogs.showAlert("智慧潘家园","密码不能为空");return}Ext.Viewport.setMasked({xtype:"loadmask",message:"请稍候..."});var c=Ext.create("eapp.business.ResidentuserService");c.login(e,a,{success:function(g){console.log(g);eapp.util.GlobalData.setCurrentUser(Ext.JSON.encode(g));eapp.util.GlobalData.setUserName(e);eapp.util.GlobalData.setPassword(a);if(g!="null"){var f=d.getMainview().getNavigationBar().getBackButton();f.fireEvent("tap",f,null,null);eapp.view.Dialogs.showAlert("智慧潘家园","登录成功!~")}else{eapp.view.Dialogs.showAlert("智慧潘家园","登录失败!~")}Ext.Viewport.setMasked(false)},failure:function(f){console.log(f);Ext.Viewport.setMasked(false)}})},OnRegButtonTap:function(){var b=this;var a=b.getRegisterView();if(a==null||a=="undefined"){a=Ext.create("eapp.view.Register")}b.getMainview().push(a);eapp.app.pageStack.push("registerview")},});Ext.define("eapp.controller.My",{extend:"Ext.app.Controller",config:{refs:{mainview:"mainview",myView:"myView",loginView:"loginView",setPersonalView:"setPersonalView",wanshanziliaoid:{selector:"myView formpanel fieldset labelEx[name=wanshanziliaoid]"},uppasswordid:{selector:"myView formpanel fieldset labelEx[name=uppasswordid]"},cllloginid:{selector:"myView formpanel fieldset labelEx[name=cllloginid]"},updateButton:{selector:"setPersonalView formpanel button[name=updateButton]"},},control:{wanshanziliaoid:{tap:"OnWanshanziliaoTap",},uppasswordid:{tap:"OnuppasswordTap",},cllloginid:{tap:"OnCllloginTap",},updateButton:{tap:"OnUpdateButtonTap",}}},OnUpdateButtonTap:function(){var j=this;var a=eapp.util.GlobalData.getCurrentUser();var g=j.getSetPersonalView();if(g==null||g=="undefined"){g=Ext.create("eapp.view.SetPersonal")}var c=a.get("userid");var e=Ext.ComponentQuery.query("#loginnameid",g)[0].getValue();var b=Ext.ComponentQuery.query("#usernameid",g)[0].getValue();var i=Ext.ComponentQuery.query("#telephonenumid",g)[0].getValue();var f=Ext.ComponentQuery.query("#emailid",g)[0].getValue();var d=Ext.ComponentQuery.query("#interestid",g)[0].getValue();Ext.Viewport.setMasked({xtype:"loadmask",message:"请稍候..."});var h=Ext.create("eapp.business.ResidentuserService");h.upuser(c,e,b,i,f,d,{success:function(l){if(l!="null"){eapp.util.GlobalData.setCurrentUser(Ext.JSON.encode(l));var k=j.getMainview().getNavigationBar().getBackButton();k.fireEvent("tap",k,null,null);eapp.view.Dialogs.showAlert("智慧潘家园","修改成功!~")}else{eapp.view.Dialogs.showAlert("智慧潘家园","修改失败!~")}Ext.Viewport.setMasked(false)},failure:function(k){console.log(k);Ext.Viewport.setMasked(false)}})},OnWanshanziliaoTap:function(){var d=this;var b=eapp.util.GlobalData.getCurrentUser();var c=d.getSetPersonalView();if(c==null||c=="undefined"){c=Ext.create("eapp.view.SetPersonal")}var b=eapp.util.GlobalData.getCurrentUser();Ext.ComponentQuery.query("#loginnameid",c)[0].setValue(b.get("loginname"));Ext.ComponentQuery.query("#usernameid",c)[0].setValue(b.get("realname"));Ext.ComponentQuery.query("#telephonenumid",c)[0].setValue(b.get("familyTelephonenum"));Ext.ComponentQuery.query("#emailid",c)[0].setValue(b.get("email"));Ext.ComponentQuery.query("#interestid",c)[0].setValue(b.get("telephonenum"));d.getMainview().push(c);var a=eapp.app.pageStack.length;if(eapp.app.pageStack[a-1]!="setpersonalview"){eapp.app.pageStack.push("setpersonalview")}},OnuppasswordTap:function(){eapp.view.Dialogs.showAlert("智慧潘家园","修改密码!~")},OnCllloginTap:function(){var a=this;eapp.view.Dialogs.showSearchComfirm("智慧潘家园","确认要注销么？",{yes:function(){eapp.util.GlobalData.setCurrentUser("");var c=a.getLoginView();if(c==null||c=="undefined"){c=Ext.create("eapp.view.Login")}c.setIsautoFlag(false);Ext.ComponentQuery.query("#usernameLogin",c)[0].setValue("");Ext.ComponentQuery.query("#passwordLogin",c)[0].setValue("");eapp.util.GlobalData.setUserName("");eapp.util.GlobalData.setPassword("");var b=a.getMainview().getNavigationBar().getBackButton();b.fireEvent("tap",b,null,null)},on:function(){return}})}});Ext.define("eapp.controller.Idea",{extend:"Ext.app.Controller",config:{refs:{mainview:"mainview",ideaView:"ideaView",ideapageview:"ideapageview",idealistview:"idealistview",ideasubmitname:{selector:"ideaView formpanel button[name=ideasubmitname]"},suggestionpage:{selector:"ideapageview formpanel fieldset labelEx[name=suggestionpage]"},aboutuspage:{selector:"ideapageview formpanel fieldset labelEx[name=aboutuspage]"},},control:{ideasubmitname:{tap:"OnIdeasubmitnameTap",},suggestionpage:{tap:"OnSuggestionpageTap"},aboutuspage:{tap:"OnAboutuspageTap",}}},OnAboutuspageTap:function(){var c=this;var d=c.getIdeaView();if(d==null||d=="undefined"){d=Ext.create("eapp.view.zhihuiyanlu.Idea")}var b=eapp.util.GlobalData.getCurrentUser();Ext.ComponentQuery.query("#ideausernameid",d)[0].setValue(b.get("realname"));c.getMainview().push(d);var a=eapp.app.pageStack.length;if(eapp.app.pageStack[a-1]!="ideaview"){eapp.app.pageStack.push("ideaview")}},OnSuggestionpageTap:function(){var c=this;var b=c.getIdealistview();if(b==null||b=="undefined"){b=Ext.create("eapp.view.zhihuiyanlu.IdeaList")}b.init();c.getMainview().push(b);var a=eapp.app.pageStack.length;if(eapp.app.pageStack[a-1]!="idealistview"){eapp.app.pageStack.push("idealistview")}},OnIdeasubmitnameTap:function(){var f=this;var h=f.getIdeaView();if(h==null||h=="undefined"){h=Ext.create("eapp.view.zhihuiyanlu.Idea")}var c=eapp.util.GlobalData.getCurrentUser();var d=c.get("userid");var g=c.get("realname");var a=Ext.ComponentQuery.query("#ideaphoneid",h)[0].getValue();var e=Ext.ComponentQuery.query("#ideaemailid",h)[0].getValue();var i=Ext.ComponentQuery.query("#remarkContent",h)[0].getValue();if(g==null||g=="undefined"||g.length<=0){eapp.view.Dialogs.showAlert("智慧潘家园","用户名称不能为空!~")}if(g==null||g=="undefined",g.length<=0){eapp.view.Dialogs.showAlert("智慧潘家园","电话不能为空!~")}if(e==null||e=="undefined"||e.length<=0){eapp.view.Dialogs.showAlert("智慧潘家园","email不能为空!~")}if(i==null||i=="undefined"||i.lengthj<=0){eapp.view.Dialogs.showAlert("智慧潘家园","意见内容不能为空!~")}Ext.Viewport.setMasked({xtype:"loadmask",message:"请稍候..."});var b=Ext.create("eapp.business.IdeaService");b.addremark(d,g,a,e,i,{success:function(k){if(k=="OK"){var j=f.getMainview().getNavigationBar().getBackButton();j.fireEvent("tap",j,null,null);eapp.view.Dialogs.showAlert("智慧潘家园","提交意见成功!~")}else{eapp.view.Dialogs.showAlert("智慧潘家园","提交意见失败!~")}Ext.Viewport.setMasked(false)},failure:function(j){Ext.Viewport.setMasked(false);console.log(j)}})},});Ext.define("eapp.controller.Volunteer",{extend:"Ext.app.Controller",config:{refs:{mainview:"mainview",volunteerpageview:"volunteerpageview",addideaView:"addideaView",applyvolunteerview:"applyvolunteerview",applyvolunteertowview:"applyvolunteertowviewq",shequwanggename:{selector:"volunteerpageview formpanel fieldset labelEx[name=shequwanggename]"},shenqinggezhangname:{selector:"volunteerpageview formpanel fieldset labelEx[name=shenqinggezhangname]"},wodewanggename:{selector:"volunteerpageview formpanel fieldset labelEx[name=wodewanggename]"},tijiaoyijianname:{selector:"volunteerpageview formpanel fieldset labelEx[name=tijiaoyijianname]"},gezhagnfengcainame:{selector:"volunteerpageview formpanel fieldset labelEx[name=gezhagnfengcainame]"},gezhangtoupiaoname:{selector:"volunteerpageview formpanel fieldset labelEx[name=gezhangtoupiaoname]"},nextbuttonname:{selector:"applyvolunteerview formpanel button[name=nextbuttonname]"},addsublmitname:{selector:"applyvolunteertowview formpanel button[name=addsublmitname]"},},control:{shequwanggename:{tap:"OnShequwanggenameTap",},shenqinggezhangname:{tap:"OnShenqinggezhangnameTap",},wodewanggename:{tap:"OnWodewanggenameTap",},tijiaoyijianname:{tap:"OnTijiaoyijiannameTap",},gezhagnfengcainame:{tap:"OnGezhagnfengcainameTap",},gezhangtoupiaoname:{tap:"OnGezhangtoupiaonameTap",},nextbuttonname:{tap:"OnNextbuttonnameTap"},addsublmitname:{tap:"OnAddsublmitnameTap",}}},OnAddsublmitnameTap:function(){var f=this;var g=f.getApplyvolunteertowview();var e=Ext.ComponentQuery.query("#nonumberid",g)[0].getValue();var c=Ext.ComponentQuery.query("#remarkContentid",g)[0].getValue();var b=eapp.util.GlobalData.getCurrentUser();var a=b.get("userid");Ext.Viewport.setMasked({xtype:"loadmask",message:"请稍候..."});var d=Ext.create("eapp.business.VolunteerService");d.addVolunteer(a,e,c,{success:function(h){if(h=="OK"){eapp.view.Dialogs.showAlert("智慧潘家园","申请成功!~")}else{eapp.view.Dialogs.showAlert("智慧潘家园","申请失败!~")}Ext.Viewport.setMasked(false)},failure:function(h){console.log(h);Ext.Viewport.setMasked(false)}})},OnNextbuttonnameTap:function(){var d=this;var e=d.getApplyvolunteerview();if(e==null||e=="undefined"){e=Ext.create("eapp.view.gongjianhexie.ApplyVolunteer")}var b=Ext.ComponentQuery.query("#checkboxs",e)[0];var g="";for(var c=0;c<b.getItems().length-1;c++){if(b.getItems().items[c+1].getChecked()){g+=b.getItems().items[c+1].getLabel()+","}}if(g==""||g.length<=0){eapp.view.Dialogs.showAlert("智慧潘家园","请选择网格编号!~");return}var f=d.getApplyvolunteertowview();if(f==null||f==""){f=Ext.create("eapp.view.gongjianhexie.ApplyVolunteerTow")}Ext.ComponentQuery.query("#nonumberid",f)[0].setValue(g);d.getMainview().push(f);var a=eapp.app.pageStack.length;if(eapp.app.pageStack[a-1]!="applyvolunteertowview"){eapp.app.pageStack.push("applyvolunteertowview")}},OnShequwanggenameTap:function(){alert(0)},OnShenqinggezhangnameTap:function(){var b=this;var c=b.getApplyvolunteerview();if(c==null||c=="undefined"){c=Ext.create("eapp.view.gongjianhexie.ApplyVolunteer")}c.init();b.getMainview().push(c);var a=eapp.app.pageStack.length;if(eapp.app.pageStack[a-1]!="applyvolunteerview"){eapp.app.pageStack.push("applyvolunteerview")}},OnWodewanggenameTap:function(){alert("我的网格")},OnTijiaoyijiannameTap:function(){var c=this;var b=c.getAddideaView();if(b==null||b=="undefined"){b=Ext.create("eapp.view.gongjianhexie.AddIdea")}c.getMainview().push(b);var a=eapp.app.pageStack.length;if(eapp.app.pageStack[a-1]!="addideaview"){eapp.app.pageStack.push("addideaview")}},OnGezhagnfengcainameTap:function(){alert("格长风采")},OnGezhangtoupiaonameTap:function(){alert("格长投票")}});Ext.define("eapp.controller.Unemploymentregistration",{extend:"Ext.app.Controller",config:{refs:{mainview:"mainview",unempageview:"unempageview",addunemview:"addunemview",myunemview:"myunemview",unemdetailview:"unemdetailview",unemsubmitname:{selector:"unempageview formpanel fieldset labelEx[name=unemsubmitname]"},unemmyinfoname:{selector:"unempageview formpanel fieldset labelEx[name=unemmyinfoname]"},tijiaobuttonname:{selector:"addunemview formpanel button[name=tijiaobuttonname]"},},control:{unemsubmitname:{tap:"OnUnemsubmitnameTap",},unemmyinfoname:{tap:"OnUnemmyinfonameTap"},tijiaobuttonname:{tap:"OnTiajiaonameTap"},myunemview:{itemtap:"OnTiemTap",}}},OnTiemTap:function(a,d,f,b,g,h){var i=this;var j=Ext.create("eapp.view.wenxinjiayuan.UnemDetail");if(j==null||j=="undefined"){j=Ext.create("eapp.view.wenxinjiayuan.UnemDetail")}j.init(b);i.getMainview().push(j);var c=eapp.app.pageStack.length;if(eapp.app.pageStack[c-1]!="unemdetailview"){eapp.app.pageStack.push("unemdetailview")}},OnTiajiaonameTap:function(){var i=this;var m=i.getAddunemview();var d=Ext.ComponentQuery.query("#unemusernameid",m)[0].getValue();var k=Ext.ComponentQuery.query("#unemphoneid",m)[0].getValue();var l=Ext.ComponentQuery.query("#unememailid",m)[0].getValue();var j=Ext.ComponentQuery.query("#unemhomeid",m)[0].getValue();var f=Ext.ComponentQuery.query("#unemjiuyeid",m)[0].getValue();var a=Ext.ComponentQuery.query("#unempaddressid",m)[0].getValue();var h=Ext.ComponentQuery.query("#unempersonalid",m)[0].getValue();var e=Ext.ComponentQuery.query("#remarkontentid",m)[0].getValue();if(d==null||d=="undefined"||d.length<=0){eapp.view.Dialogs.showAlert("智慧潘家园","用户名不能为空!~");return}if(k==null||k=="undefined"||k.length<=0){eapp.view.Dialogs.showAlert("智慧潘家园","电话不能为空!~");return}if(l==null||l=="undefined"||l.length<=0){eapp.view.Dialogs.showAlert("智慧潘家园","email不能为空!~");return}if(j==null||j=="undefined"||j.length<=0){eapp.view.Dialogs.showAlert("智慧潘家园"," 家庭状况不能为空!~");return}if(f==null||f=="undefined"||f.length<=0){eapp.view.Dialogs.showAlert("智慧潘家园","就业意向不能为空!~");return}if(a==null||a=="undefined"||a.length<=0){eapp.view.Dialogs.showAlert("智慧潘家园","家庭住址不能为空!~");return}if(h==null||h=="undefined"||h.length<=0){eapp.view.Dialogs.showAlert("智慧潘家园","就业意向不能为空!~");return}var b=eapp.util.GlobalData.getCurrentUser();var c=b.get("userid");Ext.Viewport.setMasked({xtype:"loadmask",message:"请稍候..."});var g=Ext.create("eapp.business.UnemploymentregistrationService");g.addunem(c,d,k,l,j,f,a,h,{success:function(n){if(n=="OK"){eapp.view.Dialogs.showAlert("智慧潘家园","提交成功!~")}else{eapp.view.Dialogs.showAlert("智慧潘家园","提交失败!~")}Ext.Viewport.setMasked(false)},failure:function(n){console.log(n);Ext.Viewport.setMasked(false)}})},OnUnemsubmitnameTap:function(){var c=this;var b=c.getAddunemview();if(b==null||b=="undefined"){b=Ext.create("eapp.view.wenxinjiayuan.AddUnem")}c.getMainview().push(b);var a=eapp.app.pageStack.length;if(eapp.app.pageStack[a-1]!="addunemview"){eapp.app.pageStack.push("addunemview")}},OnUnemmyinfonameTap:function(){var e=this;var d=e.getMyunemview();if(d==null||d=="undefined"){d=Ext.create("eapp.view.wenxinjiayuan.MyUnem")}var c=eapp.util.GlobalData.getCurrentUser();var b=c.get("userid");Ext.Viewport.setMasked({xtype:"loadmask",message:"请稍候..."});var f=Ext.create("eapp.business.UnemploymentregistrationService");f.findunem(b,{success:function(g){d.init(g);Ext.Viewport.setMasked(false)},failure:function(g){console.log(g);Ext.Viewport.setMasked(false)}});e.getMainview().push(d);var a=eapp.app.pageStack.length;if(eapp.app.pageStack[a-1]!="myunemview"){eapp.app.pageStack.push("myunemview")}}});Ext.define("eapp.controller.Group",{extend:"Ext.app.Controller",config:{refs:{mainview:"mainview",grouppageview:"grouppageview",addgroupview:"addgroupview",createactivityname:{selector:"grouppageview formpanel fieldset labelEx[name=createactivityname]"},gzactivityname:{selector:"grouppageview formpanel fieldset labelEx[name=gzactivityname]"},fqactivityname:{selector:"grouppageview formpanel fieldset labelEx[name=fqactivityname]"},ckactivityname:{selector:"grouppageview formpanel fieldset labelEx[name=ckactivityname]"},groupsubmitname:{selector:"addgroupview formpanel button[name=groupsubmitname]"},},control:{createactivityname:{tap:"OnCreateactivitynameTap",},gzactivityname:{tap:"OnGzactivitynameTap",},fqactivityname:{tap:"OnFqactivitynameTap",},ckactivityname:{tap:"OnCkactivitynameTap",},groupsubmitname:{tap:"OnGroupsubmitnameTap",}},},OnGroupsubmitnameTap:function(){var f=this;var b=f.getAddgroupview();var e=Ext.ComponentQuery.query("#groupid",b)[0].getValue();var g=Ext.ComponentQuery.query("#groupcontentid",b)[0].getValue();var d=eapp.util.GlobalData.getCurrentUser();var c=d.get("userid");Ext.Viewport.setMasked({xtype:"loadmask",message:"请稍候..."});var a=Ext.create("eapp.business.GroupService");a.addgroup(c,e,g,{success:function(h){console.log(h);if(h=="OK"){eapp.view.Dialogs.showAlert("智慧潘家园","申请创建活动群成功!~")}else{eapp.view.Dialogs.showAlert("智慧潘家园","申请创建活动群失败!~")}Ext.Viewport.setMasked(false)},failure:function(h){console.log(h);Ext.Viewport.setMasked(false)}})},OnCreateactivitynameTap:function(){var c=this;var b=c.getAddgroupview();if(b==null||b=="undefined"){b=Ext.create("eapp.view.duocaijiayuan.AddGroup")}c.getMainview().push(b);var a=eapp.app.pageStack.length;if(eapp.app.pageStack[a-1]!="addgroupview"){eapp.app.pageStack.push("addgroupview")}},OnGzactivitynameTap:function(){alert(1)},OnFqactivitynameTap:function(){alert(2)},OnCkactivitynameTap:function(){alert(3)}});Ext.define("eapp.store.Integratematerial",{extend:"Ext.data.Store",config:{model:"eapp.model.Integratematerial"}});Ext.define("eapp.store.Residentuser",{extend:"Ext.data.Store",config:{model:"eapp.model.Residentuser",}});Ext.define("eapp.store.Idea",{extend:"Ext.data.Store",config:{model:"eapp.model.Idea",}});Ext.define("eapp.store.Unemploymentregistration",{extend:"Ext.data.Store",config:{model:"eapp.model.Unemploymentregistration",}});Ext.define("eapp.store.Unemploymentreply",{extend:"Ext.data.Store",config:{model:"eapp.model.Unemploymentreply",}});