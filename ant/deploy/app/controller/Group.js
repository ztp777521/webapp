Ext.define("eapp.controller.Group",{extend:"Ext.app.Controller",config:{refs:{mainview:"mainview",grouppageview:"grouppageview",addgroupview:"addgroupview",createactivityname:{selector:"grouppageview formpanel fieldset labelEx[name=createactivityname]"},gzactivityname:{selector:"grouppageview formpanel fieldset labelEx[name=gzactivityname]"},fqactivityname:{selector:"grouppageview formpanel fieldset labelEx[name=fqactivityname]"},ckactivityname:{selector:"grouppageview formpanel fieldset labelEx[name=ckactivityname]"},groupsubmitname:{selector:"addgroupview formpanel button[name=groupsubmitname]"},},control:{createactivityname:{tap:"OnCreateactivitynameTap",},gzactivityname:{tap:"OnGzactivitynameTap",},fqactivityname:{tap:"OnFqactivitynameTap",},ckactivityname:{tap:"OnCkactivitynameTap",},groupsubmitname:{tap:"OnGroupsubmitnameTap",}},},OnGroupsubmitnameTap:function(){var f=this;var b=f.getAddgroupview();var e=Ext.ComponentQuery.query("#groupid",b)[0].getValue();var g=Ext.ComponentQuery.query("#groupcontentid",b)[0].getValue();var d=eapp.util.GlobalData.getCurrentUser();var c=d.get("userid");Ext.Viewport.setMasked({xtype:"loadmask",message:"请稍候..."});var a=Ext.create("eapp.business.GroupService");a.addgroup(c,e,g,{success:function(h){console.log(h);if(h=="OK"){eapp.view.Dialogs.showAlert("智慧潘家园","申请创建活动群成功!~")}else{eapp.view.Dialogs.showAlert("智慧潘家园","申请创建活动群失败!~")}Ext.Viewport.setMasked(false)},failure:function(h){console.log(h);Ext.Viewport.setMasked(false)}})},OnCreateactivitynameTap:function(){var c=this;var b=c.getAddgroupview();if(b==null||b=="undefined"){b=Ext.create("eapp.view.duocaijiayuan.AddGroup")}c.getMainview().push(b);var a=eapp.app.pageStack.length;if(eapp.app.pageStack[a-1]!="addgroupview"){eapp.app.pageStack.push("addgroupview")}},OnGzactivitynameTap:function(){alert(1)},OnFqactivitynameTap:function(){alert(2)},OnCkactivitynameTap:function(){alert(3)}});